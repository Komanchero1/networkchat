                                                                              Курсовой проект "Сетевой чат".

                    Описание класса 'ChatServer'.

    Основная задача этого сервера - обрабатывать подключения клиентов, принимать и распространять сообщения между ними, используя пул потоков для обеспечения параллельной обработки. 

  Класс содержит поля:
 - port: Номер порта, на котором будет работать сервер.
 - clients: Список сокетов, представляющих подключенных клиентов.
 - clientNames: Множество уникальных имен клиентов.  
 - logFile: Имя файла, в который будут записываться логи сообщений.
 - threadPoolSize: Размер пула потоков для обработки клиентских   соединений.

1. метод main():
-  Загружает настройки сервера из файла settings.txt.
-  Создает серверный сокет и ожидает подключения клиентов.
-  Создает пул потоков с заданным размером threadPoolSize.
-  Для каждого нового подключения клиента создает новый поток ClientHandler и передает его в пул потоков для обработки.

2. Метод logMessage(String message):
-  Записывает сообщение в лог-файл file.log с указанием текущей даты и времени.
  
3. Метод getPort():  
-  Возвращает номер порта, на котором работает сервер. 

                        Описание класса 'ChatClient'.

    Основная задача клиента заключается в установке соединения с сервером, обмене сообщениями между пользователем и сервером, а также ведении лог-файла для записи всех событий.                

1. метод main():
-  Загрузка настроек сервера из файла settings.txt и установка порта подключения.
-  Создание соединения с сервером.
-  Создание потоков для чтения входящих сообщений и отправки сообщений пользователя.
-  Обработка ввода имени пользователя и проверка его на уникальность на сервере.
-  Запуск потоков для чтения и отправки сообщений. 
  
2. метод loadSettings(String file):
-  метод для загрузки настроек сервера из файла settings.txt и установки порта подключения.
  
3. метод ogMessage(String message):
-  метод для записи сообщений в лог-файл file.log. Он добавляет к сообщению временную метку и записывает его в файл.
  
4. метод listenForMessages(BufferedReader in, ExecutorService executor):
-  метод, запускаемый в отдельном потоке, который постоянно ожидает и считывает входящие сообщения от сервера, выводя их в консоль и записывая в лог-файл.
  
5. метод sendMessages(PrintWriter out, BufferedReader userInput, ExecutorService executor) :
-  метод, запускаемый в отдельном потоке, который ожидает ввода сообщений пользователем, отправляет их на сервер и записывает в лог-файл.
  
6. метод getPort():
-  метод, возвращающий номер порта, на котором работает сервер.

7. метод setReader(BufferedReader reader):
-  методы для установки объекта BufferedReader.

8. метод etLogFile(String logFile):
-  методы для установки пути к лог-файлу соответственно. 
  
                    Описание класса 'ClientHandler'. 

    Основная задача этого класса обрабатывать клиентские соединения в чат-сервере  

  Класс содержит поля:
-  Socket socket: Объект Socket, представляющий соединение с клиентом.
-  BufferedReader in: Объект BufferedReader для чтения входящих сообщений от клиента.
-  PrintWriter out: Объект PrintWriter для записи и отправки сообщений клиенту.
-  String name: Строка, хранящая имя клиента.
-  ChatServer chatServer: Объект ChatServer, дающий возможность обращаться к методам этого класса.
  
  В классе есть параметризированный конструктор ClientHandler(Socket socket):
-  Принимает объект Socket, который представляет соединение с клиентом.
-  Сохраняет ссылку на этот сокет в поле socket.
  
  Функции:

1. Метод run():
-  Реализует интерфейс Runnable, который определяет логику работы потока.
-  Создает BufferedReader in для чтения входящих сообщений от клиента и PrintWriter out для записи исходящих сообщений.
-  Запрашивает у клиента ввод имени и проверяет его уникальность с помощью метода isNameValid(name).
-  Если имя допустимо, отправляет сообщение о присоединении клиента к чату всем остальным клиентам и записывает это в лог-файл.
-  Вызывает метод `listenForMessages() прослушивания и обработки сообщений от клиента.
-  В случае ошибки вызывает метод disconnect() для отключения клиента от сервера.

2. Метод listenForMessages():
-  Считывает сообщения, отправленные клиентом, в цикле
-  Если сообщение эквивалентно "exit", отправляет клиенту сообщение об отключении и выходит из цикла.
-  Если сообщение не эквивалентно "exit", вызывает метод broadcastMessage(name + ": " + message) для отправки сообщения всем подключенным клиентам.
-  В случае ошибки вызывает метод disconnect() для отключения клиента от сервера.
  
3. Метод broadcastMessage(String message):
-  Записывает сообщение в лог-файл с помощью статического метода ChatServer.logMessage(message).
-  Синхронизирует доступ к списку ChatServer.clients для безопасной итерации по нему.
-  Создает PrintWriter для каждого клиентского сокета и отправляет сообщение через этот поток.

4. Метод isNameValid(String name):
-  Проверяет, что имя не пустое и не содержит пробелов.
-  Синхронизирует доступ к коллекции ChatServer.clientNames.
-  Проверяет, что имя уникально, и если да, добавляет его в коллекцию.
-  Возвращает true, если имя допустимо, и false в противном случае.

5. Метод disconnect():
-  Закрывает сокет клиента.
-  Синхронизирует доступ к списку ChatServer.clients и удаляет сокет клиента из этого списка.
-  Синхронизирует доступ к коллекции ChatServer.clientNames и удаляет имя клиента из этой коллекции.
-  Отправляетсообщения об отключении клиента всем остальным.
-  Записывает сообщение об отключении клиента в лог-файл

6. Методы setIn(BufferedReader in), setOut(PrintWriter out), setChatServer(ChatServer chatServer):
-  эти методы предназначены для установки значений полей in, out и chatServer, что необходимо для тестирования класса.

Классы ChatServerTest.ChatClientTest.ClientHandlerTest содержат мнтоды для тестирования соответствующих классов.                    
    

   
